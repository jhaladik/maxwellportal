<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Tenders - Maxwell Portal</title>
    <!-- Shared CSS -->
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/components.css">
    
    <!-- Page-specific CSS -->
    <link rel="stylesheet" href="./assets/css/tenders.css">    
</head>

<body>
    <!-- Header (inherited from previous phases) -->
    <header class="header">
        <div class="nav-container">
            <a href="#" class="logo" onclick="goToHome()">
                <div class="logo-icon">M</div>
                Maxwell Portal
            </a>
            
            <!-- All pages include this navigation -->
            <nav class="main-nav">
                <a href="./index.html" class="nav-link">Dom≈Ø</a>
                <a href="./news.html" class="nav-link">News Hub</a>
                <a href="./library.html" class="nav-link">Tech Library</a>
                <a href="./tenders.html" class="nav-link">Mini Tenders</a>
                <a href="./academy.html" class="nav-link">Academy</a>
            </nav>
            
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Hledat tendery, produkty..." id="globalSearch">
                <span class="search-icon">üîç</span>
            </div>
            
            <div class="user-menu">
                <div class="notification-bell">
                    üîî
                    <span class="notification-badge">5</span>
                </div>
                <div class="user-avatar" onclick="showUserMenu()">
                    JN
                </div>
            </div>
        </div>
    </header>

    <!-- Page Container -->
    <div class="page-container">
        <!-- Breadcrumb -->
        <div class="breadcrumb" id="breadcrumb">
            <a href="#" onclick="goToHome()">Maxwell Portal</a> ‚Ä∫ <strong>Mini Tenders</strong>
        </div>

        <!-- Dashboard View (Default) -->
        <div class="dashboard-view" id="dashboardView">
            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">Mini Tenders</h1>
                <p class="page-subtitle">AI-≈ô√≠zen√° popt√°vkov√° platforma s inteligentn√≠m matchingem dodavatel≈Ø</p>
                
                <!-- Dashboard Stats -->
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <span class="stat-number" data-target="12">0</span>
                        <div class="stat-label">Aktivn√≠ch tender≈Ø</div>
                        <div class="stat-change positive">+3 tento t√Ωden</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <span class="stat-number" data-target="89">0</span>
                        <div class="stat-label">% √öspƒõ≈°nost</div>
                        <div class="stat-change positive">+7% oproti Q4</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <span class="stat-number" data-target="2.4">0</span>
                        <div class="stat-label">Pr≈Ømƒõrn√° doba (dny)</div>
                        <div class="stat-change negative">+0.3 oproti pr≈Ømƒõru</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ü§ù</div>
                        <span class="stat-number" data-target="34">0</span>
                        <div class="stat-label">Aktivn√≠ch partner≈Ø</div>
                        <div class="stat-change positive">+5 nov√Ωch</div>
                    </div>
                </div>
            </div>

            <!-- Action Section -->
            <div class="action-section">
                <h2 class="action-title">üöÄ Vytvo≈ôte nov√Ω tender</h2>
                <p class="action-subtitle">AI v√°m pom≈Ø≈æe s optim√°ln√≠ specifikac√≠ a najde nejlep≈°√≠ dodavatele</p>
                <button class="create-tender-btn" onclick="showCreateTender()">
                    ‚ú® Zaƒç√≠t s AI asistentem
                </button>
            </div>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Active Tenders -->
                <div class="tenders-section">
                    <div class="section-header">
                        <h3 class="section-title">üéØ Aktivn√≠ tendery</h3>
                        <a href="#" class="section-action" onclick="showAIMatchingDemo()">Zobrazit AI matching</a>
                    </div>
                    <div class="tender-list" id="tenderList">
                        <!-- Tenders will be loaded here -->
                    </div>
                </div>

                <!-- AI Insights Panel -->
                <div class="ai-insights-panel">
                    <div class="insights-title">
                        ü§ñ AI Market Intelligence
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-title">Trending v Q1 2025</div>
                        <div class="insight-desc">Multimetry s bluetooth komunikac√≠ - 40% n√°r≈Øst popt√°vky oproti Q4 2024</div>
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-title">Cenov√© trendy</div>
                        <div class="insight-desc">Laboratorn√≠ p≈ô√≠stroje pr≈Ømƒõrnƒõ -3% oproti minul√©mu kvart√°lu</div>
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-title">Delivery optimization</div>
                        <div class="insight-desc">Pr≈Ømƒõrn√° doba dod√°n√≠ 2.1 t√Ωdne - nejrychlej≈°√≠ za posledn√≠ rok</div>
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-title">Success tip</div>
                        <div class="insight-desc">Tendery s definovan√Ωm komunikaƒçn√≠m rozhran√≠m maj√≠ 60% vy≈°≈°√≠ √∫spƒõ≈°nost</div>
                    </div>

                    <div class="market-trends">
                        <h4 style="margin-bottom: 1rem; color: var(--dark-gray);">üìä Market Activity</h4>
                        <div class="trend-chart">
                            üìà AI Analytics Dashboard
                        </div>
                        <div class="trend-summary">
                            <div class="trend-item">
                                <span class="trend-label">Nov√© tendery:</span>
                                <span class="trend-value trend-positive">+23%</span>
                            </div>
                            <div class="trend-item">
                                <span class="trend-label">Avg. response time:</span>
                                <span class="trend-value">1.8 dne</span>
                            </div>
                            <div class="trend-item">
                                <span class="trend-label">Partner satisfaction:</span>
                                <span class="trend-value trend-positive">94%</span>
                            </div>
                            <div class="trend-item">
                                <span class="trend-label">Price competitiveness:</span>
                                <span class="trend-value trend-positive">+12%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Tender View -->
        <div class="create-tender-view" id="createTenderView">
            <a href="#" class="back-button" onclick="showDashboard()">
                ‚Üê Zpƒõt na dashboard
            </a>

            <div class="wizard-container">
                <div class="wizard-header">
                    <h2 class="wizard-title">ü§ñ AI-Guided Tender Creation</h2>
                    <p class="wizard-subtitle">Odpovƒõzte na nƒõkolik ot√°zek a AI vytvo≈ô√≠ optim√°ln√≠ specifikaci</p>
                    
                    <div class="progress-indicator">
                        <div class="progress-step active" id="step1">1</div>
                        <div class="progress-line" id="line1"></div>
                        <div class="progress-step" id="step2">2</div>
                        <div class="progress-line" id="line2"></div>
                        <div class="progress-step" id="step3">3</div>
                        <div class="progress-line" id="line3"></div>
                        <div class="progress-step" id="step4">4</div>
                    </div>
                </div>

                <div class="wizard-content">
                    <!-- Step 1: Category Selection -->
                    <div class="wizard-step active" id="wizardStep1">
                        <h3 class="step-question">Co budete mƒõ≈ôit?</h3>
                        <p class="step-description">Vyberte hlavn√≠ kategorii mƒõ≈ôen√≠ pro v√°≈° projekt</p>
                        
                        <div class="options-grid">
                            <div class="option-card" onclick="selectOption('category', 'voltage-current')">
                                <div class="option-icon">‚ö°</div>
                                <div class="option-title">Napƒõt√≠ a proud</div>
                                <div class="option-desc">DC/AC mƒõ≈ôen√≠, multimetry, z√°tƒõ≈æov√© testy</div>
                            </div>
                            <div class="option-card" onclick="selectOption('category', 'frequency')">
                                <div class="option-icon">üìä</div>
                                <div class="option-title">Frekvenci a sign√°ly</div>
                                <div class="option-desc">Osciloskopy, gener√°tory, analyz√°tory</div>
                            </div>
                            <div class="option-card" onclick="selectOption('category', 'temperature')">
                                <div class="option-icon">üå°Ô∏è</div>
                                <div class="option-title">Teplotu</div>
                                <div class="option-desc">Termometry, termostatick√© komory</div>
                            </div>
                            <div class="option-card" onclick="selectOption('category', 'other')">
                                <div class="option-icon">üîß</div>
                                <div class="option-title">Jin√© veliƒçiny</div>
                                <div class="option-desc">Tlak, vlhkost, s√≠la, dal≈°√≠ parametry</div>
                            </div>
                        </div>

                        <div class="ai-suggestions">
                            <div class="ai-suggestions-title">
                                ü§ñ AI doporuƒçuje tak√© zv√°≈æit:
                            </div>
                            <div class="suggestion-item" onclick="addSuggestion('calibration')">
                                üìê Kalibraƒçn√≠ po≈æadavky (ISO 17025)
                            </div>
                            <div class="suggestion-item" onclick="addSuggestion('data-logging')">
                                üíæ Data logging capabilities
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Specifications -->
                    <div class="wizard-step" id="wizardStep2">
                        <h3 class="step-question">Jak√© jsou va≈°e technick√© po≈æadavky?</h3>
                        <p class="step-description">AI automaticky dopln√≠ relevantn√≠ specifikace na z√°kladƒõ va≈°√≠ kategorie</p>
                        
                        <div class="input-group">
                            <label class="input-label">Rozsah mƒõ≈ôen√≠</label>
                            <select class="input-field" id="measurementRange" onchange="updateSpecs()">
                                <option value="">Vyberte rozsah...</option>
                                <option value="low">Do 100V/1A (n√≠zkonapƒõ≈•ov√©)</option>
                                <option value="medium">Do 1000V/10A (standardn√≠)</option>
                                <option value="high">Nad 1000V (vysokonapƒõ≈•ov√©)</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Po≈æadovan√° p≈ôesnost</label>
                            <select class="input-field" id="accuracyRequirement" onchange="updateSpecs()">
                                <option value="">Vyberte p≈ôesnost...</option>
                                <option value="basic">¬±1% (z√°kladn√≠ mƒõ≈ôen√≠)</option>
                                <option value="standard">¬±0.1% (standardn√≠ p≈ôesnost)</option>
                                <option value="precision">¬±0.01% (laboraton√≠ p≈ôesnost)</option>
                                <option value="reference">¬±0.001% (referenƒçn√≠ mƒõ≈ôen√≠)</option>
                            </select>
                        </div>

                        <div class="matching-counter" id="matchingCounter">
                            üéØ Nalezeno <strong id="matchCount">0</strong> produkt≈Ø odpov√≠daj√≠c√≠ch va≈°im po≈æadavk≈Øm
                        </div>

                        <div class="ai-suggestions">
                            <div class="ai-suggestions-title">
                                ü§ñ AI detekuje mo≈æn√© chybƒõj√≠c√≠ specifikace:
                            </div>
                            <div class="suggestion-item" onclick="addSpec('true-rms')">
                                ‚ö° True RMS mƒõ≈ôen√≠ (doporuƒçeno pro AC sign√°ly)
                            </div>
                            <div class="suggestion-item" onclick="addSpec('communication')">
                                üì° Komunikaƒçn√≠ rozhran√≠ (USB, LAN, GPIB)
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Application Context -->
                    <div class="wizard-step" id="wizardStep3">
                        <h3 class="step-question">Jak√Ω je kontext pou≈æit√≠?</h3>
                        <p class="step-description">Pomozte AI vybrat nejvhodnƒõj≈°√≠ typ p≈ô√≠stroj≈Ø</p>
                        
                        <div class="options-grid">
                            <div class="option-card" onclick="selectOption('application', 'laboratory')">
                                <div class="option-icon">üî¨</div>
                                <div class="option-title">Laboratorn√≠ mƒõ≈ôen√≠</div>
                                <div class="option-desc">Benchtop p≈ô√≠stroje, vysok√° p≈ôesnost, stabiln√≠ prost≈ôed√≠</div>
                            </div>
                            <div class="option-card" onclick="selectOption('application', 'field')">
                                <div class="option-icon">üöó</div>
                                <div class="option-title">Field/servisn√≠ mƒõ≈ôen√≠</div>
                                <div class="option-desc">Portable p≈ô√≠stroje, robustn√≠ konstrukce</div>
                            </div>
                            <div class="option-card" onclick="selectOption('application', 'production')">
                                <div class="option-icon">üè≠</div>
                                <div class="option-title">Produkƒçn√≠ testov√°n√≠</div>
                                <div class="option-desc">Rychlost, automatizace, integrace</div>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Rozpoƒçet (orientaƒçn√≠)</label>
                            <select class="input-field" id="budgetRange">
                                <option value="">Vyberte rozpoƒçet...</option>
                                <option value="low">Do ‚Ç¨1,000</option>
                                <option value="medium">‚Ç¨1,000 - ‚Ç¨5,000</option>
                                <option value="high">‚Ç¨5,000 - ‚Ç¨15,000</option>
                                <option value="premium">Nad ‚Ç¨15,000</option>
                            </select>
                        </div>
                    </div>

                    <!-- Step 4: Review & Submit -->
                    <div class="wizard-step" id="wizardStep4">
                        <h3 class="step-question">Zkontrolujte specifikaci</h3>
                        <p class="step-description">AI vytvo≈ôila optimalizovanou specifikaci na z√°kladƒõ va≈°ich odpovƒõd√≠</p>
                        
                        <div class="tender-requirements">
                            <h4 class="requirements-title">üìã Fin√°ln√≠ specifikace</h4>
                            <div class="requirement-list" id="finalSpecs">
                                <!-- Final specs will be populated here -->
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">N√°zev tenderu</label>
                            <input type="text" class="input-field" id="tenderTitle" placeholder="Nap≈ô. Multimetry pro laboratorn√≠ mƒõ≈ôen√≠">
                        </div>

                        <div class="input-group">
                            <label class="input-label">Deadline pro nab√≠dky</label>
                            <input type="date" class="input-field" id="tenderDeadline">
                        </div>

                        <div class="ai-suggestions">
                            <div class="ai-suggestions-title">
                                ü§ñ AI p≈ôedpovƒõƒè √∫spƒõ≈°nosti: <strong>87%</strong>
                            </div>
                            <div style="color: var(--primary-blue); font-size: 0.9rem; margin-top: 0.5rem;">
                                Oƒçek√°van√Ω poƒçet nab√≠dek: 3-5 | Pr≈Ømƒõrn√° cena: ‚Ç¨3,200 | Doba dod√°n√≠: 2-3 t√Ωdny
                            </div>
                        </div>
                    </div>
                </div>

                <div class="wizard-actions">
                    <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()" disabled>
                        ‚Üê P≈ôedchoz√≠
                    </button>
                    <div>
                        <span id="stepInfo">Krok 1 ze 4</span>
                    </div>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                        Dal≈°√≠ ‚Üí
                    </button>
                </div>
            </div>
        </div>

        <!-- Tender Detail View -->
        <div class="tender-detail-view" id="tenderDetailView">
            <a href="#" class="back-button" onclick="showDashboard()">
                ‚Üê Zpƒõt na dashboard
            </a>

            <div class="tender-detail-header">
                <h2 class="tender-detail-title" id="detailTitle">Multimetry pro laboratorn√≠ mƒõ≈ôen√≠</h2>
                
                <div class="tender-detail-meta">
                    <div class="detail-meta-item">
                        <div class="meta-item-label">Tender ID</div>
                        <div class="meta-item-value" id="detailId">TND-2025-001</div>
                    </div>
                    <div class="detail-meta-item">
                        <div class="meta-item-label">Status</div>
                        <div class="meta-item-value">
                            <span class="tender-status status-active" id="detailStatus">Aktivn√≠</span>
                        </div>
                    </div>
                    <div class="detail-meta-item">
                        <div class="meta-item-label">Deadline</div>
                        <div class="meta-item-value" id="detailDeadline">25. ledna 2025</div>
                    </div>
                    <div class="detail-meta-item">
                        <div class="meta-item-label">Rozpoƒçet</div>
                        <div class="meta-item-value" id="detailBudget">‚Ç¨5,000 - ‚Ç¨8,000</div>
                    </div>
                </div>

                <div class="tender-requirements">
                    <h4 class="requirements-title">üìã Po≈æadavky</h4>
                    <div class="requirement-list" id="detailRequirements">
                        <!-- Requirements will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Bids Section -->
            <div class="bids-section">
                <div class="bids-header">
                    <h3 class="bids-title">üíº P≈ôijat√© nab√≠dky</h3>
                    <div class="bids-count" id="bidsCount">3 nab√≠dky</div>
                </div>
                
                <div class="bids-list" id="bidsList">
                    <!-- Bids will be populated here -->
                </div>
            </div>
        </div>

        <!-- AI Matching Demo View -->
        <div class="ai-matching-view" id="aiMatchingView">
            <a href="#" class="back-button" onclick="showDashboard()">
                ‚Üê Zpƒõt na dashboard
            </a>

            <div class="matching-demo">
                <div class="matching-header">
                    <h2 class="matching-title">ü§ñ AI Matching Process</h2>
                    <p class="matching-subtitle">Sledujte, jak AI analyzuje po≈æadavky a hled√° nejlep≈°√≠ produkty</p>
                </div>

                <div class="matching-process" id="matchingProcess">
                    <div class="process-step" id="processStep1">
                        <div class="step-icon">üîç</div>
                        <div class="step-content">
                            <div class="step-title">Anal√Ωza po≈æadavk≈Ø</div>
                            <div class="step-description">AI parsuje technick√© specifikace a identifikuje kl√≠ƒçov√© parametry</div>
                            <div class="step-result">
                                Nalezeny po≈æadavky: Multimetr, 1000V, 0.01% p≈ôesnost, True RMS
                            </div>
                        </div>
                    </div>

                    <div class="process-step" id="processStep2">
                        <div class="step-icon">üè™</div>
                        <div class="step-content">
                            <div class="step-title">Vyhled√°v√°n√≠ v katalogu</div>
                            <div class="step-description">Prohled√°v√°n√≠ datab√°ze produkt≈Ø s AI semantic search</div>
                            <div class="step-result">
                                Nalezeno 47 produkt≈Ø odpov√≠daj√≠c√≠ch kategorii "multimetr"
                            </div>
                        </div>
                    </div>

                    <div class="process-step" id="processStep3">
                        <div class="step-icon">‚öñÔ∏è</div>
                        <div class="step-content">
                            <div class="step-title">Scoring kompatibility</div>
                            <div class="step-description">Hodnocen√≠ ka≈æd√©ho produktu podle m√≠ry splnƒõn√≠ po≈æadavk≈Ø</div>
                            <div class="step-result">
                                Vypoƒç√≠t√°no compatibility score pro 47 produkt≈Ø (0-100%)
                            </div>
                        </div>
                    </div>

                    <div class="process-step" id="processStep4">
                        <div class="step-icon">üí∞</div>
                        <div class="step-content">
                            <div class="step-title">Cenov√° anal√Ωza</div>
                            <div class="step-description">Kontrola dostupnosti, cen a dodac√≠ch lh≈Øt u partner≈Ø</div>
                            <div class="step-result">
                                Aktualizov√°ny ceny a dostupnost z 12 partnersk√Ωch syst√©m≈Ø
                            </div>
                        </div>
                    </div>

                    <div class="process-step" id="processStep5">
                        <div class="step-icon">üéØ</div>
                        <div class="step-content">
                            <div class="step-title">Fin√°ln√≠ ranking</div>
                            <div class="step-description">AI kombinuje kompatibilitu, cenu a dostupnost do fin√°ln√≠ho sk√≥re</div>
                            <div class="step-result">
                                Se≈ôazeno podle AI recommendation score
                            </div>
                        </div>
                    </div>
                </div>

                <div class="matching-results">
                    <h3 class="results-title">üèÜ Top AI doporuƒçen√≠</h3>
                    <div class="result-items" id="matchingResults">
                        <!-- Results will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- AI Assistant Widget (inherited) -->
    <div class="ai-assistant">
        <button class="ai-toggle" onclick="toggleAIChat()">ü§ñ</button>
        <div class="ai-chat" id="aiChat">
            <div class="ai-chat-header">
                Maxwell AI Tender Assistant
            </div>
            <div class="ai-chat-body" id="aiChatBody">
                <div class="ai-message">
                    Ahoj! Jsem specializovan√Ω AI asistent pro tendery. Mohu v√°m pomoci s:
                    <br>‚Ä¢ Vytvo≈ôen√≠m optim√°ln√≠ specifikace
                    <br>‚Ä¢ Anal√Ωzou p≈ôijat√Ωch nab√≠dek  
                    <br>‚Ä¢ Market intelligence insights
                    <br>‚Ä¢ Doporuƒçen√≠m nejlep≈°√≠ch dodavatel≈Ø
                </div>
            </div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Zeptejte se na cokoliv o tenderech..." id="aiInput" onkeypress="handleAIInput(event)">
                <button onclick="sendAIMessage()">‚ñ∂</button>
            </div>
        </div>
    </div>

    <!-- Shared JS -->
    <script src="assets/js/shared.js"></script>
    <script src="assets/js/navigation.js"></script>
    <script src="assets/js/ai-assistant.js"></script>
    
    <!-- Page-specific JS -->
    <script src="assets/js/tenders.js"></script></body>
</html>